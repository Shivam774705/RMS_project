{% extends "base.html" %}
{% block div_class %}no-sidebar{% endblock %}
{% block body %}
    <style>
      :root {
        /* Color palette */
        --background-main: #181e2a;
        --card-bg: #222737;
        --modal-bg: #242b39;
        --shadow: 0 2px 8px rgba(14, 22, 31, 0.17);
        --border-radius: 16px;
        --admin: #ef4444;
        --manager: #2563eb;
        --user: #22c55e;
        --guest: #6b7280;
        --gray: #9ca3af;
        --white: #fff;
        --label: #cbd5e1;
        --input-bg: #222737;
        --input-border: #374151;
        --input-text: #fff;
        --button-primary: #2563eb;
        --button-primary-hover: #1e40af;
        --button-secondary: #374151;
        --button-secondary-hover: #273043;
      }

      html,
      body {
        margin: 0;
        padding: 0;
        background: var(--background-main);
        font-family: "Segoe UI", "Roboto", Arial, sans-serif;
        color: var(--white);
      }

      .dashboard-container {
        margin-top: 60px;
        margin-left: 73px;
        padding: 32px 16px 64px 16px;
      }

      .dashboard-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 32px;
      }

      .dashboard-header h1 {
        font-size: 2.5rem;
        font-weight: 700;
        letter-spacing: 0.01em;
      }

      .btn {
        display: inline-flex;
        align-items: center;
        padding: 10px 22px;
        border: none;
        border-radius: 12px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: background 0.18s;
        outline: none;
      }

      .btn.btn-primary {
        background: var(--button-primary);
        color: var(--white);
      }
      .btn.btn-primary:hover,
      .btn.btn-primary:focus {
        background: var(--button-primary-hover);
      }
      .btn-secondary {
        background: var(--button-secondary);
        color: var(--white);
      }
      .btn-secondary:hover {
        background: var(--button-secondary-hover);
      }
      .btn-plus {
        font-size: 1.6rem;
        font-weight: 900;
        margin-right: 5px;
        margin-top: -2px;
      }

      .role-cards {
        display: flex;
        gap: 20px;
        margin-bottom: 38px;
        flex-wrap: wrap;
      }

      .role-card {
        background: var(--card-bg);
        min-width: 200px;
        flex: 1 1 200px;
        padding: 24px 20px;
        border-radius: var(--border-radius);
        box-shadow: var(--shadow);
        display: flex;
        align-items: center;
        gap: 18px;
        margin-bottom: 16px;
      }

      .role-card .icon-badge {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 54px;
        height: 54px;
        border-radius: 50px;
        background: rgba(255, 255, 255, 0.06);
        font-size: 2rem;
      }

      .role-card.admin .icon-badge {
        color: var(--admin);
      }
      .role-card.manager .icon-badge {
        color: var(--manager);
      }
      .role-card.user .icon-badge {
        color: var(--user);
      }
      .role-card.guest .icon-badge {
        color: var(--guest);
      }

      .role-label {
        font-size: 1.1rem;
        font-weight: 700;
        margin-bottom: 2px;
      }
      .role-total {
        font-size: 1.7rem;
        font-weight: 700;
        margin-bottom: 2px;
      }
      .role-total span {
        font-size: 0.95rem;
        font-weight: 400;
        color: var(--gray);
        margin-left: 4px;
      }

      .role-desc {
        font-size: 0.96rem;
        color: var(--gray);
      }

      .user-table-section .table-header {
        display: flex;
        justify-content: start;
        align-items: baseline;
        margin-bottom: 10px;
      }
      .user-table-section h2 {
        margin: 0;
        font-size: 1.35rem;
        font-weight: 700;
      }
      .table-subtitle {
        font-size: 1rem;
        color: var(--gray);
        margin-top: 2px;
        display: block;
        font-weight: 400;
      }

      .table-responsive {
        width: 100%;
        overflow-x: auto;
        background: var(--card-bg);
        border-radius: var(--border-radius);
        box-shadow: var(--shadow);
      }

      .user-table {
        width: 100%;
        min-width: 580px;
        border-collapse: separate;
        border-spacing: 0;
        background: transparent;
      }

      .user-table th,
      .user-table td {
        padding: 18px 14px;
        text-align: left;
        font-size: 1rem;
      }

      .user-table th {
        color: var(--gray);
        font-weight: 600;
        border-bottom: 1px solid var(--input-border);
        background: transparent;
      }

      .user-table tbody tr td {
        border-bottom: 1px solid rgba(90, 100, 126, 0.11);
      }

      .user-table tbody tr:last-child td {
        border: none;
      }

      .role-pill {
        display: inline-block;
        padding: 4px 16px;
        border-radius: 60px;
        font-size: 1rem;
        font-weight: 600;
        color: var(--white);
      }
      .role-pill.admin {
        background: var(--admin);
      }
      .role-pill.manager {
        background: var(--manager);
      }
      .role-pill.user {
        background: var(--user);
      }
      .role-pill.guest {
        background: var(--guest);
      }

      .icon-btn {
        background: var(--button-secondary);
        color: var(--white);
        border: none;
        border-radius: 8px;
        padding: 6px 9px;
        display: inline-flex;
        align-items: center;
        margin-left: 3px;
        transition: background 0.18s, color 0.18s;
        cursor: pointer;
        font-size: 1rem;
      }
      .icon-btn.edit:hover {
        background: var(--manager);
        color: #fff;
      }
      .icon-btn.delete:hover {
        background: var(--admin);
        color: #fff;
      }
      .icon-btn:focus {
        outline: 2px solid var(--button-primary);
      }

      .modal-overlay {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(19, 29, 48, 0.61);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 990;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.22s;
  }
  .modal-overlay.active {
    opacity: 1;
    pointer-events: all;
  }
  .modal {
    background: var(--modal-bg);
    border-radius: var(--border-radius);
    box-shadow: 0 6px 32px rgba(24, 32, 48, 0.28);
    padding: 32px 28px 28px 28px;
    min-width: 330px;
    max-width: 98vw;
    max-height: 92vh;
    animation: modal-in 0.18s ease;
  }
  @keyframes modal-in {
    from { transform: translateY(24px) scale(0.97); opacity: 0; }
    to   { transform: none; opacity: 1; }
  }

      .modal h2 {
        margin: 0 0 22px 0;
        font-size: 1.45rem;
      }

      .form-group {
        display: flex;
        flex-direction: column;
        margin-bottom: 17px;
      }
      .form-group label {
        font-size: 1rem;
        color: var(--label);
        margin-bottom: 5px;
        font-weight: 500;
        padding-left: 2px;
      }
      .form-group input,
      .form-group select {
        padding: 11px 13px;
        border-radius: 6px;
        background: var(--input-bg);
        border: 1px solid var(--input-border);
        font-size: 1rem;
        color: var(--input-text);
        transition: border 0.17s;
        outline: none;
      }
      .form-group input:focus,
      .form-group select:focus {
        border-color: var(--button-primary);
      }

      .modal-actions {
        display: flex;
        justify-content: flex-end;
        gap: 14px;
      }

      @media (max-width: 900px) {
        .role-cards {
          gap: 12px;
        }
        .role-card {
          padding: 16px 9px;
          font-size: 0.95rem;
        }
      }

      @media (max-width: 650px) {
        .dashboard-header {
          flex-direction: column;
          gap: 18px;
          align-items: flex-start;
        }
        .role-cards {
          flex-direction: column;
          gap: 12px;
        }
        .table-responsive {
          border-radius: 0;
          box-shadow: none;
        }
      }

      @media (max-width: 480px) {
        .dashboard-container {
          padding: 10px 4px 40px 4px;
        }
        .modal {
          padding: 15px 7vw 15px 7vw;
          min-width: unset;
          width: 96vw;
        }
        .user-table th,
        .user-table td {
          padding: 12px 8px;
          font-size: 0.97rem;
        }
        .form-group input,
        .form-group select {
          font-size: 0.93rem;
          padding: 9px 8px;
        }
      }
    </style>

    <div class="dashboard-container">
      <header class="dashboard-header">
        <h1>Admin</h1>
        <button id="createUserBtn" class="btn btn-primary">
          <span class="btn-plus">+</span> Create User
        </button>
      </header>

      <!-- Role Summary Cards -->
      <section class="role-cards">
        <div class="role-card admin">
          <div class="icon-badge">
            <!-- Admin Icon SVG -->
            <svg viewBox="0 0 24 24" width="28" height="28" fill="currentColor">
              <path
                d="M12 2a5 5 0 0 1 5 5v1a5 5 0 0 1-10 0V7a5 5 0 0 1 5-5zm-8 17v-1a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v1c0 .55-.45 1-1 1H5a1 1 0 0 1-1-1z"
              />
            </svg>
          </div>
          <div class="role-info">
            <div class="role-label">Admin</div>
            <div class="role-total">1 <span>Total</span></div>
            <div class="role-desc">1 user with admin role</div>
          </div>
        </div>
        <div class="role-card manager">
          <div class="icon-badge">
            <!-- Manager Icon SVG -->
            <svg viewBox="0 0 24 24" width="28" height="28" fill="currentColor">
              <circle cx="12" cy="8" r="4" />
              <path d="M2 20a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4" />
            </svg>
          </div>
          <div class="role-info">
            <div class="role-label">SOC operator</div>
            <div class="role-total">3 <span>Total</span></div>
            <div class="role-desc">3 users with SOC operator role</div>
          </div>
        </div>
        <div class="role-card user">
          <div class="icon-badge">
            <!-- User Icon SVG -->
            <svg viewBox="0 0 24 24" width="28" height="28" fill="currentColor">
              <circle cx="12" cy="8" r="4" />
              <path d="M4 20a8 8 0 0 1 16 0" />
            </svg>
          </div>
          <div class="role-info">
            <div class="role-label">Technician</div>
            <div class="role-total">4 <span>Total</span></div>
            <div class="role-desc">4 users with Technician role</div>
          </div>
        </div>
        <div class="role-card guest">
          <div class="icon-badge">
            <!-- Guest Icon SVG -->
            <svg viewBox="0 0 24 24" width="28" height="28" fill="currentColor">
              <circle cx="12" cy="8" r="4" />
              <rect x="4" y="16" width="16" height="2" rx="1" />
            </svg>
          </div>
          <div class="role-info">
            <div class="role-label">Management</div>
            <div class="role-total">2 <span>Total</span></div>
            <div class="role-desc">2 users with Management role</div>
          </div>
        </div>
        <div class="role-card guest">
          <div class="icon-badge">
            <!-- Guest Icon SVG -->
            <svg viewBox="0 0 24 24" width="28" height="28" fill="currentColor">
              <circle cx="12" cy="8" r="4" />
              <rect x="4" y="16" width="16" height="2" rx="1" />
            </svg>
          </div>
          <div class="role-info">
            <div class="role-label">Circle</div>
            <div class="role-total">2 <span>Total</span></div>
            <div class="role-desc">2 users with Management role</div>
          </div>
        </div>
      </section>

      <!-- Users Table -->
      <section class="user-table-section">
        <div class="table-header">
          <div>
            <h2>All Users</h2>
            <span class="table-subtitle"
              >Manage user accounts and permissions</span
            >
          </div>
        </div>
        <div class="table-responsive">
          <table class="user-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Username</th>
                <th>Role</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>John Smith</td>
                <td>@john.smith</td>
                <td><span class="role-pill admin">Admin</span></td>
                <td>
                  <button class="icon-btn edit" title="Edit">
                    <!-- Edit SVG -->
                    <svg
                      width="18"
                      height="18"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                    >
                      <path
                        d="M16.3 3.71a1.003 1.003 0 0 0-1.42 0L14.13 4.46l2.54 2.54.75-.75a1.003 1.003 0 0 0 0-1.42l-1.12-1.12zm-2.12 2.12L3 17v2h2l11.18-11.18-2.54-2.54z"
                      />
                    </svg>
                  </button>
                  <button class="icon-btn delete" title="Delete">
                    <!-- Delete SVG -->
                    <svg
                      width="18"
                      height="18"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                    >
                      <path
                        d="M6 6h8v10a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V6zm9-3v2H5V3h3.5l1-1h1l1 1H15z"
                      />
                    </svg>
                  </button>
                </td>
              </tr>
              <tr>
                <td>Sarah Johnson</td>
                <td>@sarah.j</td>
                <td><span class="role-pill manager">Manager</span></td>
                <td>
                  <button class="icon-btn edit" title="Edit">
                    <svg
                      width="18"
                      height="18"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                    >
                      <path
                        d="M16.3 3.71a1.003 1.003 0 0 0-1.42 0L14.13 4.46l2.54 2.54.75-.75a1.003 1.003 0 0 0 0-1.42l-1.12-1.12zm-2.12 2.12L3 17v2h2l11.18-11.18-2.54-2.54z"
                      />
                    </svg>
                  </button>
                  <button class="icon-btn delete" title="Delete">
                    <svg
                      width="18"
                      height="18"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                    >
                      <path
                        d="M6 6h8v10a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V6zm9-3v2H5V3h3.5l1-1h1l1 1H15z"
                      />
                    </svg>
                  </button>
                </td>
              </tr>
              <tr>
                <td>Mike Wilson</td>
                <td>@mike.w</td>
                <td><span class="role-pill user">User</span></td>
                <td>
                  <button class="icon-btn edit" title="Edit">
                    <svg
                      width="18"
                      height="18"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                    >
                      <path
                        d="M16.3 3.71a1.003 1.003 0 0 0-1.42 0L14.13 4.46l2.54 2.54.75-.75a1.003 1.003 0 0 0 0-1.42l-1.12-1.12zm-2.12 2.12L3 17v2h2l11.18-11.18-2.54-2.54z"
                      />
                    </svg>
                  </button>
                  <button class="icon-btn delete" title="Delete">
                    <svg
                      width="18"
                      height="18"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                    >
                      <path
                        d="M6 6h8v10a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V6zm9-3v2H5V3h3.5l1-1h1l1 1H15z"
                      />
                    </svg>
                  </button>
                </td>
              </tr>
              <tr>
                <td>Emily Davis</td>
                <td>@emily.d</td>
                <td><span class="role-pill user">User</span></td>
                <td>
                  <button class="icon-btn edit" title="Edit">
                    <svg
                      width="18"
                      height="18"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                    >
                      <path
                        d="M16.3 3.71a1.003 1.003 0 0 0-1.42 0L14.13 4.46l2.54 2.54.75-.75a1.003 1.003 0 0 0 0-1.42l-1.12-1.12zm-2.12 2.12L3 17v2h2l11.18-11.18-2.54-2.54z"
                      />
                    </svg>
                  </button>
                  <button class="icon-btn delete" title="Delete">
                    <svg
                      width="18"
                      height="18"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                    >
                      <path
                        d="M6 6h8v10a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V6zm9-3v2H5V3h3.5l1-1h1l1 1H15z"
                      />
                    </svg>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    </div>
    <!-- Modal Overlay & Form -->
    <div id="modalOverlay" class="modal-overlay">
      <div class="modal">
        <form id="createUserForm">
          <h2>Create User</h2>
          <div class="form-group">
            <label for="nameInput">Name</label>
            <input type="text" id="nameInput" required />
          </div>
          <div class="form-group">
            <label for="usernameInput">Username</label>
            <input type="text" id="usernameInput" required />
          </div>
          <div class="form-group">
            <label for="passwordInput">Password</label>
            <input type="password" id="passwordInput" required />
          </div>
          <div class="form-group">
            <label for="roleSelect">Role</label>
            <select id="roleSelect" required>
              <option value="Admin">Admin</option>
              <option value="Manager">Manager</option>
              <option value="User">User</option>
              <option value="Guest">Guest</option>
            </select>
          </div>
          <div class="modal-actions">
            <button type="submit" class="btn btn-primary">Submit</button>
            <button type="button" id="cancelModalBtn" class="btn btn-secondary">
              Cancel
            </button>
          </div>
        </form>
      </div>
    </div>
   <script>
  // Modal Open/Close Logic
  const modalOverlay = document.getElementById("modalOverlay");
  const createUserBtn = document.getElementById("createUserBtn");
  const cancelModalBtn = document.getElementById("cancelModalBtn");
  const createUserForm = document.getElementById("createUserForm");

  // Open modal
  createUserBtn.addEventListener("click", () => {
    modalOverlay.classList.add("active");
    setTimeout(() => {
      document.getElementById("nameInput").focus();
    }, 120);
  });

  // Close modal (via cancel button)
  cancelModalBtn.addEventListener("click", () => {
    modalOverlay.classList.remove("active");
  });

  // Close modal (clicking outside modal area)
  modalOverlay.addEventListener("mousedown", function (e) {
    if (e.target === this) {
      modalOverlay.classList.remove("active");
    }
  });

  // Form submit: log values and close
  createUserForm.addEventListener("submit", function (e) {
    e.preventDefault();
    const name = document.getElementById("nameInput").value.trim();
    const username = document.getElementById("usernameInput").value.trim();
    const password = document.getElementById("passwordInput").value;
    const role = document.getElementById("roleSelect").value;
    console.log("Create User:", { name, username, password, role });
    modalOverlay.classList.remove("active");
    createUserForm.reset();
  });
 </script>

{% endblock body %}

